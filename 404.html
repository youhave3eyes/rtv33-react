<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>SPA Redirect</title>
    <script type="text/javascript">
      // https://github.com/rafgraph/spa-github-pages
      // This script takes the current url and converts the path and query
      // string into just a query string, and then redirects the browser
      // to the new url with only a query string and hash fragment,
      // e.g. https://user.github.io/repo?/{path}&{query}#{hash}
      (function(l) {
        var pathSegmentsToKeep = 1; // for project pages: keep '/repo-name'
        var lpa = l.pathname.split('/').filter(function(seg){ return seg.length !== 0 });
        var repo = lpa.slice(0, pathSegmentsToKeep).join('/');
        var path = lpa.slice(pathSegmentsToKeep).join('/');
        var search = l.search ? l.search.substring(1) : '';
        var hash = l.hash ? l.hash : '';
        var newUrl = '/' + repo + '/?' + (path ? '/' + path : '') + (search ? '&' + search : '') + hash;
        l.replace(newUrl);
      }(window.location));
    </script>
  </head>
  <body></body>
</html>
